{% extends "simple_base.html" %}
{% block content %}
<h1>Healthcare Dashboard</h1>
<div style="display: flex; gap: 20px; margin: 20px 0;">
    <div style="border: 1px solid #ddd; padding: 20px; border-radius: 5px;">
        <h3>{{ patient_count }}</h3>
        <p>Total Patients</p>
    </div>
    <div style="border: 1px solid #ddd; padding: 20px; border-radius: 5px;">
        <h3>{{ today_appointments|length }}</h3>
        <p>Today's Appointments</p>
    </div>
</div>

<h3>Recent Patients</h3>
<table>
    <tr><th>Name</th><th>MRN</th><th>Added</th></tr>
    {% for patient in recent_patients %}
    <tr>
        <td>{{ patient.first_name }} {{ patient.last_name }}</td>
        <td>{{ patient.mrn or 'N/A' }}</td>
        <td>{{ patient.created_at.strftime('%Y-%m-%d') if patient.created_at else 'N/A' }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}