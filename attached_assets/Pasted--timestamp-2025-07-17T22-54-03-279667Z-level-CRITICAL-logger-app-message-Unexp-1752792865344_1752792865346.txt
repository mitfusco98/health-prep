{"timestamp": "2025-07-17T22:54:03.279667Z", "level": "CRITICAL", "logger": "app", "message": "Unexpected Error [d0a1e558]:", "module": "app", "function": "handle_unexpected_error", "line": 419, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.279917Z", "level": "CRITICAL", "logger": "app", "message": "Unexpected Error [d0a1e558]:", "module": "app", "function": "handle_unexpected_error", "line": 419, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.280175Z", "level": "CRITICAL", "logger": "app", "message": "Error Type: ProgrammingError", "module": "app", "function": "handle_unexpected_error", "line": 420, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.280354Z", "level": "CRITICAL", "logger": "app", "message": "Error Type: ProgrammingError", "module": "app", "function": "handle_unexpected_error", "line": 420, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.280625Z", "level": "CRITICAL", "logger": "app", "message": "Error Message: (psycopg2.errors.UndefinedColumn) column screening.is_visible does not exist\nLINE 2: ..._frequency, screening.status AS screening_status, screening....\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT screening.id AS screening_id, screening.patient_id AS screening_patient_id, screening.screening_type AS screening_screening_type, screening.due_date AS screening_due_date, screening.last_completed AS screening_last_completed, screening.frequency AS screening_frequency, screening.status AS screening_status, screening.is_visible AS screening_is_visible, screening.is_system_generated AS screening_is_system_generated, screening.notes AS screening_notes, screening.created_at AS screening_created_at, screening.updated_at AS screening_updated_at \nFROM screening JOIN patient ON patient.id = screening.patient_id JOIN screening_type ON screening.screening_type = screening_type.name \nWHERE screening_type.is_active = true AND screening.is_visible = true) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "app", "function": "handle_unexpected_error", "line": 421, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.280806Z", "level": "CRITICAL", "logger": "app", "message": "Error Message: (psycopg2.errors.UndefinedColumn) column screening.is_visible does not exist\nLINE 2: ..._frequency, screening.status AS screening_status, screening....\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT screening.id AS screening_id, screening.patient_id AS screening_patient_id, screening.screening_type AS screening_screening_type, screening.due_date AS screening_due_date, screening.last_completed AS screening_last_completed, screening.frequency AS screening_frequency, screening.status AS screening_status, screening.is_visible AS screening_is_visible, screening.is_system_generated AS screening_is_system_generated, screening.notes AS screening_notes, screening.created_at AS screening_created_at, screening.updated_at AS screening_updated_at \nFROM screening JOIN patient ON patient.id = screening.patient_id JOIN screening_type ON screening.screening_type = screening_type.name \nWHERE screening_type.is_active = true AND screening.is_visible = true) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)", "module": "app", "function": "handle_unexpected_error", "line": 421, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.281178Z", "level": "CRITICAL", "logger": "app", "message": "URL: https://b1b46abe-838d-464d-8410-80c925647698-00-1zl7ablirpohy.kirk.replit.dev/screenings", "module": "app", "function": "handle_unexpected_error", "line": 422, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.281324Z", "level": "CRITICAL", "logger": "app", "message": "URL: https://b1b46abe-838d-464d-8410-80c925647698-00-1zl7ablirpohy.kirk.replit.dev/screenings", "module": "app", "function": "handle_unexpected_error", "line": 422, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.281494Z", "level": "CRITICAL", "logger": "app", "message": "Method: GET", "module": "app", "function": "handle_unexpected_error", "line": 423, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.281627Z", "level": "CRITICAL", "logger": "app", "message": "Method: GET", "module": "app", "function": "handle_unexpected_error", "line": 423, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.281865Z", "level": "CRITICAL", "logger": "app", "message": "Remote Address: 10.82.3.120", "module": "app", "function": "handle_unexpected_error", "line": 424, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.282012Z", "level": "CRITICAL", "logger": "app", "message": "Remote Address: 10.82.3.120", "module": "app", "function": "handle_unexpected_error", "line": 424, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.288381Z", "level": "CRITICAL", "logger": "app", "message": "Stack Trace:\nTraceback (most recent call last):\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 945, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column screening.is_visible does not exist\nLINE 2: ..._frequency, screening.status AS screening_status, screening....\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n         ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/demo_routes.py\", line 3663, in screening_list\n    total_screenings_before_cutoff = query.count()\n                                     ^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 3147, in count\n    self._legacy_from_self(col).enable_eagerloads(False).scalar()\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2836, in scalar\n    ret = self.one()\n          ^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2809, in one\n    return self._iter().one()  # type: ignore\n           ^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2858, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 945, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column screening.is_visible does not exist\nLINE 2: ..._frequency, screening.status AS screening_status, screening....\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT screening.id AS screening_id, screening.patient_id AS screening_patient_id, screening.screening_type AS screening_screening_type, screening.due_date AS screening_due_date, screening.last_completed AS screening_last_completed, screening.frequency AS screening_frequency, screening.status AS screening_status, screening.is_visible AS screening_is_visible, screening.is_system_generated AS screening_is_system_generated, screening.notes AS screening_notes, screening.created_at AS screening_created_at, screening.updated_at AS screening_updated_at \nFROM screening JOIN patient ON patient.id = screening.patient_id JOIN screening_type ON screening.screening_type = screening_type.name \nWHERE screening_type.is_active = true AND screening.is_visible = true) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "module": "app", "function": "handle_unexpected_error", "line": 425, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.288659Z", "level": "CRITICAL", "logger": "app", "message": "Stack Trace:\nTraceback (most recent call last):\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 945, in do_execute\n    cursor.execute(statement, parameters)\npsycopg2.errors.UndefinedColumn: column screening.is_visible does not exist\nLINE 2: ..._frequency, screening.status AS screening_status, screening....\n                                                             ^\n\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py\", line 917, in full_dispatch_request\n    rv = self.dispatch_request()\n         ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/app.py\", line 902, in dispatch_request\n    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/demo_routes.py\", line 3663, in screening_list\n    total_screenings_before_cutoff = query.count()\n                                     ^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 3147, in count\n    self._legacy_from_self(col).enable_eagerloads(False).scalar()\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2836, in scalar\n    ret = self.one()\n          ^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2809, in one\n    return self._iter().one()  # type: ignore\n           ^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/query.py\", line 2858, in _iter\n    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(\n                                                  ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2365, in execute\n    return self._execute_internal(\n           ^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/session.py\", line 2251, in _execute_internal\n    result: Result[Any] = compile_state_cls.orm_execute_statement(\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/orm/context.py\", line 306, in orm_execute_statement\n    result = conn.execute(\n             ^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1416, in execute\n    return meth(\n           ^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/sql/elements.py\", line 523, in _execute_on_connection\n    return connection._execute_clauseelement(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1638, in _execute_clauseelement\n    ret = self._execute_context(\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1843, in _execute_context\n    return self._exec_single_context(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1983, in _exec_single_context\n    self._handle_dbapi_exception(\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 2352, in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/base.py\", line 1964, in _exec_single_context\n    self.dialect.do_execute(\n  File \"/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/sqlalchemy/engine/default.py\", line 945, in do_execute\n    cursor.execute(statement, parameters)\nsqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column screening.is_visible does not exist\nLINE 2: ..._frequency, screening.status AS screening_status, screening....\n                                                             ^\n\n[SQL: SELECT count(*) AS count_1 \nFROM (SELECT screening.id AS screening_id, screening.patient_id AS screening_patient_id, screening.screening_type AS screening_screening_type, screening.due_date AS screening_due_date, screening.last_completed AS screening_last_completed, screening.frequency AS screening_frequency, screening.status AS screening_status, screening.is_visible AS screening_is_visible, screening.is_system_generated AS screening_is_system_generated, screening.notes AS screening_notes, screening.created_at AS screening_created_at, screening.updated_at AS screening_updated_at \nFROM screening JOIN patient ON patient.id = screening.patient_id JOIN screening_type ON screening.screening_type = screening_type.name \nWHERE screening_type.is_active = true AND screening.is_visible = true) AS anon_1]\n(Background on this error at: https://sqlalche.me/e/20/f405)\n", "module": "app", "function": "handle_unexpected_error", "line": 425, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
{"timestamp": "2025-07-17T22:54:03.553274Z", "level": "WARNING", "logger": "api_access_middleware", "message": "API response: /screenings -> 500", "module": "api_access_middleware", "function": "log_api_response_status", "line": 449, "thread": 140145305183744, "process": 4247, "request": {"method": "GET", "path": "/screenings", "remote_addr": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "endpoint": "screening_list"}, "session": {"session_id": "iS8iv2qPUcpFHSEacSczh-Y0zEIc82Cv4rILvA24vrQ", "user_id": null, "username": null}, "security": {"ip_address": "10.82.3.120", "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Replit/1.0.14 Chrome/124.0.6367.119 Electron/30.0.3 Safari/537.36", "timestamp": 1752792842.9964547}}
