{"timestamp": "2025-07-26T23:26:47.424297Z", "level": "WARNING", "logger": "profiler", "message": "Slow database query (1006.41ms): SELECT medical_document.id AS medical_document_id, medical_document.patient_id AS medical_document_p...", "module": "profiler", "function": "after_cursor_execute", "line": 276, "thread": 140407675579584, "process": 5628, "request": {"method": "GET", "path": "/home", "remote_addr": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/118.0.5993.88 Safari/537.36", "endpoint": "index"}, "session": {"session_id": "Es380S3KGg421-zJV3YWi-XWInw7jnUGTV7dmCeNpcU", "user_id": null, "username": null}, "security": {"ip_address": "127.0.0.1", "user_agent": "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) HeadlessChrome/118.0.5993.88 Safari/537.36", "timestamp": 1753572406.0209777}, "extra": {"duration_ms": 1006.4125259814318, "query": "SELECT medical_document.id AS medical_document_id, medical_document.patient_id AS medical_document_patient_id, medical_document.filename AS medical_document_filename, medical_document.document_name AS medical_document_document_name, medical_document.document_type AS medical_document_document_type, medical_document.content AS medical_document_content, medical_document.binary_content AS medical_document_binary_content, medical_document.is_binary AS medical_document_is_binary, medical_document.mime", "event_category": "performance", "table_name": "unknown", "query_type": "unknown"}}
ðŸš€ Using enhanced screening engine for /screenings page
âœ… Generated 47 screenings using enhanced engine
Error rendering screening_list.html: 'demo_routes.ScreeningProxy object' has no attribute 'get_valid_documents_with_access_check'
Traceback (most recent call last):
  File "/home/runner/workspace/demo_routes.py", line 3989, in screening_list
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 1295, in render
    self.environment.handle_exception()
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/environment.py", line 942, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/home/runner/workspace/templates/screening_list.html", line 1, in top-level template code
    {% extends 'base_demo.html' %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/base_demo.html", line 132, in top-level template code
    {% block content %}{% endblock %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/templates/screening_list.html", line 416, in block 'content'
    {% set valid_documents = screening.get_valid_documents_with_access_check() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/runner/workspace/.pythonlibs/lib/python3.11/site-packages/jinja2/utils.py", line 92, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'demo_routes.ScreeningProxy object' has no attribute 'get_valid_documents_with_access_check'